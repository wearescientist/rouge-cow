# UPGRADE 10 - 像素贴图优化计划

**角色**: Project Lead (Role A)  
**版本**: v0.9.2 → v0.9.3  
**主题**: 像素艺术风格统一与故事视觉化  
**约束**: 不替换现有贴图，只优化更新  

---

## 故事视觉主题

基于《深根之疫》背景设定，视觉风格应体现：

| 层级 | 故事对应 | 视觉特征 |
|:---|:---|:---|
| **菌丝蔓延区** (Layer 1) | 教学关，初级寄生 | 苍白菌丝 + 正常动物 |
| **孵化温室** (Layer 2) | 昆虫变异，卵囊 | 绿色调 + 囊泡 + 幼虫 |
| **神经索网络** (Layer 3) | 融合怪物 | 紫色调 + 神经索 + 多肢体 |
| **消化熔炉** (Layer 4) | 酸液池 + 分解者 | 橙红色调 + 腐蚀效果 |
| **母虫庭院** (Layer 5) | 最终圣地 | 血红 + 生物荧光 |
| **千根之心** (Layer 6) | 核心Boss战 | 黑暗 + 脉动光效 |

**核心视觉语言**:
- 像素尺寸: 32x32 (敌人), 64x64 (Boss)
- 色彩: 低饱和大地色 + 高饱和感染色对比
- 动画: 4帧行走 + 2帧攻击 + 1帧受击

---

## 10轮迭代规划

### 迭代 1: 像素风格指南与工具链
**目标**: 建立统一的像素艺术规范

**步骤1 - 设计方案**:
- 制定调色板 (16色主色 + 16色强调色)
- 定义像素比例 (1游戏单位 = 2x2像素)
- 创建 Canvas 程序化生成工具

**步骤2 - 执行**:
- 编写 `tools/sprite_generator.js`
- 实现基础形状绘制函数

**步骤3 - 检查**:
- 验证生成器输出质量
- 检查颜色一致性

**步骤4 - 修复**:
- 调整颜色对比度
- 优化生成算法

---

### 迭代 2: 主角牛牛贴图优化
**目标**: 强化牛牛"地脉共鸣者"特征

**步骤1 - 设计方案**:
- 双角金色纹路发光效果
- 行走/冲刺/受击动画帧
- 武器持有姿态变化

**步骤2 - 执行**:
- 更新 `player_cow.png` 精灵表
- 添加发光效果层

**步骤3 - 检查**:
- 动画流畅度测试
- 发光效果可见性

**步骤4 - 修复**:
- 调整动画帧时间
- 优化发光强度

---

### 迭代 3: Tier 1 敌人视觉统一 (小鸡、老鼠、蜗牛)
**目标**: 表现"初级寄生"状态

**步骤1 - 设计方案**:
- 苍白/灰白色调
- 轻微菌丝覆盖效果
- 呆滞眼神表现

**步骤2 - 执行**:
- 优化现有敌人贴图
- 添加菌丝细节层

**步骤3 - 检查**:
- 与背景对比度
- 可识别性测试

**步骤4 - 修复**:
- 增强轮廓线
- 调整菌丝透明度

---

### 迭代 4: Tier 2-3 敌人视觉统一 (兔子、鸟类、猫咪)
**目标**: 表现"快速/敏捷变异体"

**步骤1 - 设计方案**:
- 动态姿态设计
- 速度线/残影效果
- 攻击性视觉元素

**步骤2 - 执行**:
- 优化奔跑动画
- 添加攻击特效

**步骤3 - 检查**:
- 动作流畅度
- 威胁感传达

**步骤4 - 修复**:
- 调整动作幅度
- 优化特效位置

---

### 迭代 5: Tier 4-精英敌人视觉统一 (狗、猪、绵羊、鹅)
**目标**: 表现"重型/特殊能力变异体"

**步骤1 - 设计方案**:
- 体积感强化
- 特殊能力视觉提示 (毒/眩晕)
- 装甲/硬化效果

**步骤2 - 执行**:
- 添加能力图标
- 优化受击反馈

**步骤3 - 检查**:
- 能力辨识度
- 战斗可读性

**步骤4 - 修复**:
- 调整图标大小
- 增强特效对比度

---

### 迭代 6: Boss 视觉设计 (熊、蛇、螃蟹、乌龟)
**目标**: 创造史诗级Boss存在感

**步骤1 - 设计方案**:
- 64x64 大尺寸设计
- 多阶段形态变化
- 全屏技能预警效果

**步骤2 - 执行**:
- 重绘Boss贴图
- 实现阶段转换动画

**步骤3 - 检查**:
- 视觉冲击度
- 技能预警清晰度

**步骤4 - 修复**:
- 调整尺寸比例
- 优化预警颜色

---

### 迭代 7: 武器与道具视觉优化
**目标**: 强化吸血鬼幸存者式装备识别

**步骤1 - 设计方案**:
- 8种武器独特视觉风格
- 进化武器特效升级
- 道具稀有度视觉区分

**步骤2 - 执行**:
- 更新武器图标
- 添加品质光效

**步骤3 - 检查**:
- 武器辨识度
- 稀有度区分度

**步骤4 - 修复**:
- 调整图标尺寸
- 优化光效强度

---

### 迭代 8: 房间与地形视觉优化
**目标**: 强化6层洞穴主题差异

**步骤1 - 设计方案**:
- 每层独特地板纹理
- 墙壁/障碍物主题化
- 门的视觉状态变化

**步骤2 - 执行**:
- 创建6层 tileset
- 实现门状态动画

**步骤3 - 检查**:
- 层级识别度
- 门状态清晰度

**步骤4 - 修复**:
- 调整纹理重复度
- 优化动画流畅度

---

### 迭代 9: UI 与特效视觉统一
**目标**: 提升整体游戏体验

**步骤1 - 设计方案**:
- 血条/经验条像素风格
- 伤害数字动画
- 粒子效果优化

**步骤2 - 执行**:
- 重绘UI元素
- 优化粒子系统

**步骤3 - 检查**:
- UI可读性
- 特效性能

**步骤4 - 修复**:
- 调整UI尺寸
- 优化粒子数量

---

### 迭代 10: 整体整合与性能优化
**目标**: 确保所有视觉元素和谐统一

**步骤1 - 设计方案**:
- 全游戏视觉一致性检查
- 性能基准测试
- 最终调色板统一

**步骤2 - 执行**:
- 批量颜色校正
- 压缩优化贴图

**步骤3 - 检查**:
- 整体视觉一致性
- 加载性能测试

**步骤4 - 修复**:
- 修正颜色偏差
- 优化加载顺序

---

## 产出物清单

| 迭代 | 主要产出 |
|:---|:---|
| 1 | `tools/sprite_generator.js`, `assets/palette.json` |
| 2 | `player_cow.png` (优化版), 发光效果代码 |
| 3 | `chick.png`, `mouse.png`, `snail.png` (优化版) |
| 4 | `rabbit.png`, `bird.png`, `cat.png` (优化版) |
| 5 | `dog.png`, `pig.png`, `sheep.png`, `goose.png` (优化版) |
| 6 | `bear.png`, `snake.png`, `crab.png`, `turtle.png` (优化版) |
| 7 | 武器图标集, 道具光效代码 |
| 8 | `tiles_layer_1~6.png`, 门动画代码 |
| 9 | UI元素集, 粒子配置文件 |
| 10 | 优化报告, 压缩后资源包 |

---

## 成功标准

- [ ] 所有22种敌人有独特视觉特征
- [ ] 6层地图有明显视觉区分
- [ ] 动画流畅度 ≥ 60fps
- [ ] 整体加载时间 < 3秒
- [ ] 视觉风格符合《深根之疫》故事氛围

---

*计划制定时间: 2026-02-20*  
*预计完成时间: 10轮迭代后*  

~Meow
